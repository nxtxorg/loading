var loading=function(){"use strict";function e(e,t){var n,r,o,a,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,r=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!(o=(o=c.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){c.label=a[1];break}if(6===a[0]&&c.label<o[1]){c.label=o[1],o=a;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(a);break}o[2]&&c.ops.pop(),c.trys.pop();continue}a=t.call(e,c)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}var t={documents:{},packages:[]},n={name:"loading",preprocessors:{"load:document":function(n){return r=void 0,o=void 0,c=function(){var r,o,a,c,u,i,s;return e(this,function(e){switch(e.label){case 0:return r=n.value.toString(),o=".nxtx"!==r.substr(r.length-5).toLowerCase()?r+".nxtx":r,[4,fetch(o)];case 1:return(a=e.sent()).ok?(c=a.headers.get("last-modified"),u=t.documents[o],c&&u&&u.lastModified===c?[2,t.documents[o].nodes]:[4,a.text()]):[2,console.error("NxTx document "+o+" not found")];case 2:return i=e.sent(),s=nxtx.parse(i),c&&(t.documents[o]={lastModified:c,nodes:s}),[2,s]}})},new((a=void 0)||(a=Promise))(function(e,t){function n(e){try{i(c.next(e))}catch(e){t(e)}}function u(e){try{i(c.throw(e))}catch(e){t(e)}}function i(t){t.done?e(t.value):new a(function(e){e(t.value)}).then(n,u)}i((c=c.apply(r,o||[])).next())});var r,o,a,c},"load:package":function(e){return new Promise(function(n,r){nxtx.verifyArguments([],e);if(t.packages[e.value])return n();t.packages[e.value]=!0;var o=document.createElement("script");o.src=e.value,o.async=!0;var a=!1;o.onreadystatechange=o.onload=function(){a||o.readyState&&!/loaded|complete/.test(o.readyState)||(a=!0,n())},document.head.appendChild(o)})}}};return nxtx&&nxtx.registerPackage(n),n}();
//# sourceMappingURL=loading.js.map
